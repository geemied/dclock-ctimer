<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Digital Clock & Timer</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&family=Fredoka+One&display=swap" rel="stylesheet">

<style>
:root {
  --pink-light: #ffe3ef;
  --pink: #ffb6d9;
  --pink-dark: #ff71a8;
  --white: #ffffff;
  --text-dark: #333;
  --text-pink: #b04f78;
}

body {
  margin: 0;
  padding: 0;
  font-family: 'Nunito', sans-serif;
  background: linear-gradient(135deg, #ffd6e7 0%, #fff6d1 50%, #eaffea 100%);
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

/* Main Container */
.container {
  width: 360px;
  max-width: 95%;
  background: var(--white);
  padding: 20px;
  border-radius: 26px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.12);
  border: 5px solid var(--pink);
  display: flex;
  flex-direction: column;
  gap: 18px;
}

/* Digital Clock */
.clock-box {
  background: var(--pink-light);
  padding: 16px;
  border-radius: 20px;
  text-align: center;
  box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
}

#clockTime {
  font-family: 'Fredoka One';
  font-size: 34px;
  color: var(--text-dark);
}

#clockDate {
  font-size: 13px;
  color: var(--text-pink);
  margin-top: 4px;
}

/* Timer Box */
.timer-box {
  background: var(--white);
  padding: 16px;
  border-radius: 20px;
  box-shadow: 0 8px 18px rgba(255,150,200,0.15);
}

.timer-title {
  text-align: center;
  font-weight: 700;
  font-size: 18px;
  color: var(--pink-dark);
  margin-bottom: 10px;
}

/* Time Selectors */
.select-row {
  display: flex;
  justify-content: center;
  gap: 10px;
}

.select-box {
  width: 80px;
  background: var(--pink-light);
  padding: 10px;
  border-radius: 14px;
  text-align: center;
  box-shadow: inset 0 -4px 8px rgba(255,255,255,0.4);
}

.select-box label {
  font-size: 13px;
  font-weight: bold;
  color: var(--text-pink);
}

.select-box input {
  width: 100%;
  padding: 8px;
  margin-top: 6px;
  border-radius: 10px;
  border: 2px solid var(--pink);
  text-align: center;
  font-family: 'Fredoka One';
  font-size: 22px;
  color: var(--text-dark);
}

/* Buttons */
.btn-row {
  display: flex;
  justify-content: space-between;
  margin-top: 12px;
}

button {
  flex: 1;
  margin: 4px;
  padding: 12px;
  border: none;
  border-radius: 14px;
  font-size: 16px;
  font-family: 'Fredoka One';
  cursor: pointer;
  color: white;
  box-shadow: 0 6px 14px rgba(0,0,0,0.1);
}

.start { background: var(--pink-dark); }
.pause { background: #ffd27f; color: #6b3d00; }
.reset { background: #8affb6; color: #005f2f; }

#remaining {
  margin-top: 10px;
  font-size: 14px;
  color: var(--text-pink);
  text-align: center;
}

/* ‚ö†Ô∏è NEW: ALARM POPUP */
#alarmPopup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 260px;
  padding: 20px;
  background: white;
  border-radius: 20px;
  text-align: center;
  border: 4px solid var(--pink-dark);
  box-shadow: 0 10px 25px rgba(0,0,0,0.25);
  display: none;
  animation: swing 0.5s infinite alternate ease-in-out;
  z-index: 9999;
}

#alarmPopup h2 {
  font-size: 20px;
  color: var(--pink-dark);
  margin-bottom: 12px;
}

#alarmPopup button {
  background: var(--pink-dark);
  padding: 10px 18px;
  margin-top: 10px;
  border-radius: 12px;
  color: white;
  font-family: 'Fredoka One';
  border: none;
}

/* Swing animation */
@keyframes swing {
  0% { transform: translate(-50%, -50%) rotate(-10deg); }
  100% { transform: translate(-50%, -50%) rotate(10deg); }
}
</style>
</head>

<body>

<div class="container">

  <!-- Digital Clock -->
  <div class="clock-box">
    <div id="clockTime">--:--:-- --</div>
    <div id="clockDate">Loading...</div>
  </div>

  <!-- Countdown Timer -->
  <div class="timer-box">
    <div class="timer-title">Countdown Timer</div>

    <div class="select-row">
      <div class="select-box">
        <label>Hours</label>
        <input type="number" id="hrs" min="0" max="99" value="0">
      </div>
      <div class="select-box">
        <label>Minutes</label>
        <input type="number" id="mins" min="0" max="59" value="0">
      </div>
      <div class="select-box">
        <label>Seconds</label>
        <input type="number" id="secs" min="0" max="59" value="0">
      </div>
    </div>

    <div class="btn-row">
      <button class="start" id="startBtn">Start</button>
      <button class="pause" id="pauseBtn">Pause</button>
      <button class="reset" id="resetBtn">Reset</button>
    </div>

    <div id="remaining">Remaining: 00:00:00</div>
  </div>
</div>

<!-- ‚ö†Ô∏è NEW: ALARM POPUP -->
<div id="alarmPopup">
  <h2>‚è∞ Time's Up!</h2>
  <p>Your countdown is finished.</p>
  <button onclick="closeAlarm()">OK</button>
</div>

<script>
/* DIGITAL CLOCK */
function updateClock() {
  const d = new Date();
  let hours = d.getHours();
  const ampm = hours >= 12 ? "PM" : "AM";
  hours = (hours % 12) || 12;

  document.getElementById("clockTime").textContent =
    hours.toString().padStart(2, '0') + ":" +
    d.getMinutes().toString().padStart(2, '0') + ":" +
    d.getSeconds().toString().padStart(2, '0') + " " + ampm;

  document.getElementById("clockDate").textContent =
    d.toLocaleDateString(undefined, { weekday: "short", year: "numeric", month: "short", day: "numeric" });
}
setInterval(updateClock, 1000);
updateClock();

/* TIMER */
let timer = null;
let totalSeconds = 0;
let running = false;

function updateRemaining() {
  const h = Math.floor(totalSeconds / 3600);
  const m = Math.floor((totalSeconds % 3600) / 60);
  const s = totalSeconds % 60;

  document.getElementById("remaining").textContent =
    "Remaining: " +
    h.toString().padStart(2, '0') + ":" +
    m.toString().padStart(2, '0') + ":" +
    s.toString().padStart(2, '0');
}

/* ‚ö†Ô∏è NEW: SHOW ALARM POPUP */
function showAlarm() {
  document.getElementById("alarmPopup").style.display = "block";

  if (navigator.vibrate) {
    navigator.vibrate([500, 200, 500, 200, 500, 200, 800]);
  }
}

/* ‚ö†Ô∏è NEW: CLOSE ALARM POPUP */
function closeAlarm() {
  document.getElementById("alarmPopup").style.display = "none";
  if (navigator.vibrate) navigator.vibrate(0);
}

document.getElementById("startBtn").onclick = () => {
  if (running) return;

  const h = Number(document.getElementById("hrs").value);
  const m = Number(document.getElementById("mins").value);
  const s = Number(document.getElementById("secs").value);

  totalSeconds = h * 3600 + m * 60 + s;
  if (totalSeconds <= 0) return;

  running = true;

  timer = setInterval(() => {
    totalSeconds--;
    updateRemaining();

    if (totalSeconds <= 0) {
      clearInterval(timer);
      running = false;
      showAlarm();   // üî• replaced alert()
    }
  }, 1000);
};

document.getElementById("pauseBtn").onclick = () => {
  clearInterval(timer);
  running = false;
};

document.getElementById("resetBtn").onclick = () => {
  clearInterval(timer);
  running = false;
  totalSeconds = 0;
  document.getElementById("hrs").value = 0;
  document.getElementById("mins").value = 0;
  document.getElementById("secs").value = 0;
  updateRemaining();
};

updateRemaining();
</script>

</body>
</html>